# 技术参数与商务条款提取放宽分析报告

## 目标

放宽技术参数（technical_parameters）和商务条款（business_terms）的提取标准，让LLM能够：
1. **识别更多类型的内容**（不局限于传统定义）
2. **保持与标准字段的对应关系**（便于后续处理和展示）
3. **提高召回率**（宁可多提取，不要遗漏）

---

## 当前状态分析

### 1. technical_parameters 当前结构

```json
{
  "category": "功能/技术要求/设备参数/性能指标/接口协议 等分类（可选）",
  "item": "条目标题或功能点",
  "requirement": "要求描述（可包含型号、数量、范围等）",
  "parameters": [
    {"name": "参数名", "value": "参数值/指标", "unit": "单位（可空）", "remark": "备注（可空）"}
  ],
  "evidence_chunk_ids": ["CHUNK_xxx"]
}
```

**优点**：
- ✅ 结构清晰，便于后续处理
- ✅ 支持细粒度的参数提取（parameters数组）
- ✅ 有证据链（evidence_chunk_ids）

**限制点**：
- ❌ **结构过于严格**：LLM可能因为不知道如何填充category或parameters而跳过某些内容
- ❌ **"技术参数"定义模糊**：什么算技术参数？只是设备规格吗？还是包括技术要求、标准、工艺等？
- ❌ **缺乏示例**：没有给出各种类型技术内容的提取示例
- ❌ **parameters数组可能为空**：如果内容无法结构化为参数，LLM可能不知道如何处理

### 2. business_terms 当前结构

```json
{
  "term": "条款名称（付款/验收/质保/交付/违约/发票/税费/服务/培训/售后等）",
  "requirement": "条款内容与要求（尽量结构化描述）",
  "evidence_chunk_ids": ["CHUNK_xxx"]
}
```

**优点**：
- ✅ 结构简单明了
- ✅ 已列举常见条款类型

**限制点**：
- ❌ **枚举的term不够全**：只列举了一部分（付款/验收/质保/交付/违约/发票/税费/服务/培训/售后），但实际还有很多其他类型
- ❌ **缺乏非标准条款的处理指导**：如果遇到"联合体要求"、"代理商限制"、"备品备件"等，LLM可能不知道该不该提取
- ❌ **"商务条款"定义过窄**：实际招标文件中很多内容都可以算商务条款，但LLM可能理解为狭义的合同条款

### 3. 当前提取指南的问题

**技术参数指南**（已有）：
```markdown
1. **尽可能多地提取**各类设备、系统的技术规格和参数
2. 技术参数包括但不限于：
   - 电气参数（电压、电流、功率、频率等）
   - 物理参数（尺寸、重量、容量、厚度、直径等）
   - 性能参数（转速、流量、压力、精度、效率等）
   - 环境参数（温度、湿度、防护等级IP等）
   - 配置参数（CPU、内存、硬盘、操作系统等）
   - 质量参数（材质、品牌、标准等）
3. 对于带"不低于"、"≥"、"≤"等限制条件的参数，应完整提取
4. 优先提取有明确数值的参数（如"电压380V"、"功率≥55kW"等）
5. 如果有独立的"技术标准和要求"文档，应重点从中提取详细参数
```

**优点**：
- ✅ 列举了多种参数类型
- ✅ 强调"尽可能多"

**不足**：
- ❌ **缺乏边界案例的处理**：对于"工艺要求"、"安装要求"、"测试要求"等，算不算技术参数？
- ❌ **缺乏提取示例**：没有具体的提取示例

**商务条款指南**（缺失）：
- ❌ **完全没有商务条款的提取指南**！

---

## 实际文档中可能被遗漏的内容

### A. 技术参数类（可能被遗漏）

根据文档分析，以下内容可能被遗漏：

1. **供货范围描述**
   ```
   "全厂自动化系统、智慧无人化系统和所有管材、线缆、桥架、附件等材料"
   ```
   - 问题：这是技术内容还是商务内容？
   - 当前可能归类：不确定，可能被跳过

2. **标准与规范引用**
   ```
   "焊接应满足BS5135或同等国际标准的要求"
   "油漆只能使用装在油漆密封罐内、罐上标注有制造厂商的名称"
   ```
   - 问题：引用标准算不算技术参数？
   - 当前可能归类：可能被忽略

3. **工艺要求**
   ```
   "在设备安装结束后，应立即按照招标人所同意的方式，对被损坏的油漆进行修补"
   "电机起动器应为下列类型之一：直接联机启动/封闭型星型三角启动/软启动"
   ```
   - 问题：工艺流程算不算技术参数？
   - 当前可能归类：可能被当作商务条款或被忽略

4. **测试与检验要求**
   ```
   "设备的制造、测试、出厂检验"
   "工厂检验、技术培训、联合试运行和设计联络"
   ```
   - 问题：测试要求算技术还是商务？
   - 当前可能归类：不确定

5. **配置清单**
   ```
   "表8  配置清单报价分析表（样表）"
   "随机备品备件、专用工具和仪器仪表"
   ```
   - 问题：配置清单算技术参数吗？
   - 当前可能归类：可能被忽略

### B. 商务条款类（可能被遗漏）

1. **供货与交付**（部分被提取）
   ```
   "供货期：合同签订后90个日历天内完成供货及安装调试"
   "交货地点：交货至项目所在地或买方指定的其他卸货仓库"
   ```
   - 可能被提取：✅（因为有明确的"供货期"、"交货地点"）

2. **质量标准**（边界模糊）
   ```
   "质量要求：达到国家现行有关规范要求的合格标准"
   ```
   - 问题：这算商务条款还是技术要求？
   - 当前可能归类：可能被放在base.quality，而不是business_terms

3. **代理商与联合体限制**（可能被遗漏）
   ```
   "一个制造商对同一品牌同一型号的货物，仅能委托一个代理商参加投标"
   "本次招标不接受联合体投标"
   ```
   - 问题：这算商务条款吗？
   - 当前可能归类：可能被完全忽略（不知道该放哪里）

4. **投标要求**（可能被遗漏）
   ```
   "投标人应按国家有关工程建设标准强制性条文开展本招标项目的工作"
   "主要设备要求投标人提供授权，主要设备包括：PLC设备、超融合一体机"
   ```
   - 问题：投标要求算商务条款吗？
   - 当前可能归类：可能被忽略

5. **合同管理**（可能被遗漏）
   ```
   "中标人须在收到招标人加盖骑缝章合同文本后7个日历天内，将合同签字盖章完善后返回"
   ```
   - 问题：合同管理流程算商务条款吗？
   - 当前可能归类：可能被忽略

6. **报价要求**（可能被遗漏）
   ```
   "投标报价汇总表所列的报价，应涵盖为完成合同规定内容涉及的一切费用"
   "备品备件、专用工具和仪器仪表分项报价表"
   ```
   - 问题：报价要求算商务条款吗？
   - 当前可能归类：可能被忽略

---

## 改进方案分析

### 方案A：放宽category定义（推荐⭐）

**思路**：在prompt中明确说明，技术参数和商务条款的定义要**宽泛理解**。

**技术参数应包括**：
1. ✅ 传统技术参数（电压、功率、尺寸等）
2. ✅ 供货范围与配置清单
3. ✅ 技术标准与规范引用
4. ✅ 工艺要求与安装要求
5. ✅ 测试、检验、调试要求
6. ✅ 操作维护要求
7. ✅ 备品备件与工具要求
8. ✅ 培训与技术支持要求

**商务条款应包括**：
1. ✅ 传统商务条款（付款、质保、验收等）
2. ✅ 交货与物流
3. ✅ 价格与费用构成
4. ✅ 投标资格与限制
5. ✅ 合同签订与管理
6. ✅ 违约与争议解决
7. ✅ 保险与担保
8. ✅ 知识产权
9. ✅ 保密与安全
10. ✅ 其他投标要求

**优点**：
- ✅ 覆盖面广，不易遗漏
- ✅ 保持现有字段结构
- ✅ LLM能理解更宽泛的定义

**实现难度**：⭐（容易，只需修改prompt）

---

### 方案B：增加fallback字段（推荐⭐⭐）

**思路**：在结构中增加"其他"类别，允许LLM提取不确定分类的内容。

**修改technical_parameters**：
```json
{
  "category": "设备参数/性能指标/标准规范/工艺要求/测试要求/配置清单/其他",  // 增加更多类别
  "item": "条目标题",
  "requirement": "要求描述",
  "parameters": [],  // 可以为空数组
  "evidence_chunk_ids": ["CHUNK_xxx"]
}
```

**修改business_terms**：
```json
{
  "term": "付款/验收/质保/交付/违约/发票/投标资格/合同管理/价格构成/其他",  // 增加更多类别
  "requirement": "条款内容",
  "evidence_chunk_ids": ["CHUNK_xxx"]
}
```

**优点**：
- ✅ "其他"类别作为兜底，减少遗漏
- ✅ 保持结构化
- ✅ 后续可以人工审核"其他"类别

**缺点**：
- ❌ 可能导致"其他"类别过多

**实现难度**：⭐（容易）

---

### 方案C：增加详细的提取示例（推荐⭐⭐⭐）

**思路**：在prompt中给出各种类型的提取示例，让LLM理解边界。

**技术参数提取示例**：
```json
// 示例1：传统设备参数
{
  "category": "电机参数",
  "item": "主电机",
  "requirement": "功率不低于55kW，应配置软启动器",
  "parameters": [
    {"name": "功率", "value": "≥55", "unit": "kW", "remark": ""}
  ],
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例2：标准规范
{
  "category": "焊接标准",
  "item": "钢结构焊接",
  "requirement": "所有钢结构件应进行金属电弧焊接，并满足BS5135或同等国际标准的要求",
  "parameters": [
    {"name": "标准", "value": "BS5135或同等标准", "unit": "", "remark": ""}
  ],
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例3：工艺要求
{
  "category": "安装要求",
  "item": "油漆修补",
  "requirement": "在设备安装结束后，应立即对被损坏的油漆进行修补",
  "parameters": [],
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例4：配置清单
{
  "category": "配置要求",
  "item": "备品备件",
  "requirement": "随机备品备件、专用工具和仪器仪表",
  "parameters": [],
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**商务条款提取示例**：
```json
// 示例1：传统商务条款
{
  "term": "付款方式",
  "requirement": "按合同约定分期付款，具体见合同条款",
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例2：投标资格限制
{
  "term": "代理商限制",
  "requirement": "一个制造商对同一品牌同一型号的货物，仅能委托一个代理商参加投标",
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例3：合同管理
{
  "term": "合同返回",
  "requirement": "中标人须在收到招标人加盖骑缝章合同文本后7个日历天内，将合同签字盖章完善后返回",
  "evidence_chunk_ids": ["seg_xxx"]
}

// 示例4：价格要求
{
  "term": "价格构成",
  "requirement": "投标报价应涵盖为完成合同规定内容涉及的一切费用，包括但不限于设备、安装、调试、培训等",
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**优点**：
- ✅ 示例最直观，LLM最容易理解
- ✅ 覆盖边界案例
- ✅ 减少歧义

**缺点**：
- ❌ Prompt会变长

**实现难度**：⭐⭐（中等，需要精心设计示例）

---

### 方案D：明确"宁可多提取"原则（推荐⭐⭐⭐）

**思路**：在prompt中明确告诉LLM，遇到不确定的内容时，**宁可提取，也不要遗漏**。

**添加明确指令**：
```markdown
## 提取原则

### 核心原则：宁可多提取，不要遗漏

1. **遇到不确定的内容时**：
   - ✅ 如果可能是技术相关→提取到technical_parameters
   - ✅ 如果可能是商务相关→提取到business_terms
   - ✅ 如果既像技术又像商务→选择最相关的一个提取（或两个都提取）
   - ❌ 不要因为不确定而跳过

2. **结构要求放宽**：
   - parameters数组可以为空（如果内容无法结构化为参数）
   - category可以使用"其他"或自定义类别
   - 保持灵活性，优先保证内容完整性

3. **常见误区澄清**：
   - "标准规范引用"→算技术参数 ✅
   - "工艺要求"→算技术参数 ✅
   - "测试要求"→算技术参数 ✅
   - "配置清单"→算技术参数 ✅
   - "投标资格限制"→算商务条款 ✅
   - "合同管理流程"→算商务条款 ✅
   - "价格构成说明"→算商务条款 ✅
```

**优点**：
- ✅ 明确提取原则，减少遗漏
- ✅ 澄清常见误区
- ✅ 给LLM决策指导

**实现难度**：⭐（容易）

---

### 方案E：降低结构化要求（谨慎⚠️）

**思路**：允许LLM在无法结构化时，使用更简单的格式。

**例如**：parameters数组可以完全为空，只填写requirement。

**优点**：
- ✅ 减少LLM的结构化负担
- ✅ 提高提取成功率

**缺点**：
- ❌ 可能导致数据质量下降
- ❌ 后续处理更困难

**实现难度**：⭐

**建议**：❌ 不推荐（会降低数据质量）

---

## 推荐的综合方案

### 🎯 最佳实践组合

**采用方案：A + B + C + D**

1. **放宽category定义**（方案A）
   - 明确列举所有可能的技术参数和商务条款类型
   - 强调宽泛理解

2. **增加fallback类别**（方案B）
   - 技术参数category增加："其他技术要求"
   - 商务条款term增加："其他商务要求"

3. **提供详细示例**（方案C）
   - 给出5-8个典型提取示例
   - 覆盖边界案例

4. **明确提取原则**（方案D）
   - 宁可多提取，不要遗漏
   - 澄清常见误区
   - 给出决策指导

### 具体修改点（不实施，仅列出）

#### 修改1：扩展category定义

**technical_parameters的category**：
```markdown
"category": "可选值包括但不限于：
  - 设备参数（电机、泵、阀门、仪表等）
  - 性能指标（功率、流量、压力、精度等）
  - 配置参数（CPU、内存、软件等）
  - 标准规范（引用的国家标准、行业标准等）
  - 工艺要求（安装、焊接、涂装、防腐等）
  - 测试要求（出厂检验、联合调试等）
  - 配置清单（备品备件、工具、仪表等）
  - 维护要求（操作手册、培训等）
  - 其他技术要求"
```

**business_terms的term**：
```markdown
"term": "可选值包括但不限于：
  - 付款方式/付款条件
  - 交货期/交货地点/物流
  - 质保期/质保内容
  - 验收标准/验收流程
  - 违约责任/赔偿
  - 发票/税费
  - 合同签订/合同管理
  - 投标资格/投标限制
  - 价格构成/费用包含
  - 保险/担保
  - 知识产权
  - 保密要求
  - 其他商务要求"
```

#### 修改2：增加提取原则说明

```markdown
## 提取原则与边界说明

### 1. 技术参数（technical_parameters）提取范围

**应该提取的内容（宽泛定义）**：
- ✅ 所有与技术、工程、质量相关的要求和规范
- ✅ 设备、系统、材料的规格、参数、标准
- ✅ 工艺流程、安装方式、测试方法
- ✅ 技术标准与规范的引用
- ✅ 配置清单、备件要求
- ✅ 操作维护、培训要求
- ✅ 技术文档、图纸要求

**判断标准**：
- 如果内容回答"怎么做"、"做成什么样"→技术参数
- 如果内容涉及具体的技术指标、规格→技术参数
- 如果内容引用技术标准、规范→技术参数

### 2. 商务条款（business_terms）提取范围

**应该提取的内容（宽泛定义）**：
- ✅ 所有与合同、商务、管理相关的要求和条款
- ✅ 付款、交货、质保、验收
- ✅ 投标资格、投标限制、投标要求
- ✅ 价格构成、费用说明
- ✅ 合同管理、文档管理
- ✅ 责任、风险、保险
- ✅ 知识产权、保密
- ✅ 争议解决

**判断标准**：
- 如果内容回答"谁负责"、"怎么付款"、"何时交货"→商务条款
- 如果内容涉及权利义务、责任风险→商务条款
- 如果内容涉及投标资格、限制条件→商务条款

### 3. 提取原则

**核心原则：宁可多提取，不要遗漏**

1. 遇到不确定的内容时：
   - 如果偏技术→放入technical_parameters
   - 如果偏商务→放入business_terms
   - 如果两者都可能→选择最相关的提取
   - **不要因为不确定而跳过**

2. 结构化要求放宽：
   - parameters数组可以为空（如果无法结构化）
   - category/term可以使用"其他"或自定义
   - 优先保证内容完整性，其次考虑结构化

3. 边界案例处理：
   - "质量要求"→如果有具体技术指标，放technical_parameters；如果只是笼统的质量标准，放business_terms
   - "供货范围"→如果涉及具体设备配置，放technical_parameters；如果只是范围描述，可放business_terms
   - "工期"→放base.schedule或business_terms（交货期）
```

#### 修改3：增加提取示例

```markdown
## 提取示例

### technical_parameters 示例

**示例1：传统设备参数**
```json
{
  "category": "电机参数",
  "item": "电机功率要求",
  "requirement": "较大功率电机（≥55kW）应配置软启动器（不包含工艺要求变频控制的电机）",
  "parameters": [
    {"name": "功率下限", "value": "55", "unit": "kW", "remark": "需配软启动器"}
  ],
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例2：标准规范**
```json
{
  "category": "焊接标准",
  "item": "钢结构焊接规范",
  "requirement": "所有钢结构件，无论是车间预制的还是现场焊接的，均应进行金属电弧焊接，并满足BS5135或同等国际标准的要求",
  "parameters": [
    {"name": "适用标准", "value": "BS5135或同等标准", "unit": "", "remark": ""}
  ],
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例3：工艺要求（无明确参数）**
```json
{
  "category": "涂装工艺",
  "item": "油漆修补要求",
  "requirement": "在设备安装结束后，应立即按照招标人所同意的方式，对被损坏的油漆进行修补",
  "parameters": [],  // 无具体参数，可为空数组
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例4：配置清单**
```json
{
  "category": "配置要求",
  "item": "随机配件",
  "requirement": "投标报价应包含随机备品备件、专用工具和仪器仪表",
  "parameters": [],
  "evidence_chunk_ids": ["seg_xxx"]
}
```

### business_terms 示例

**示例1：交付条款**
```json
{
  "term": "供货期",
  "requirement": "合同签订后，接招标人通知之日起90个日历天内完成供货及安装调试工作",
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例2：投标限制**
```json
{
  "term": "代理商限制",
  "requirement": "一个制造商对同一品牌同一型号的货物，仅能委托一个代理商参加投标。多种设备打包采购的，招标人应选择其中主要设备要求投标人提供授权，主要设备包括：PLC设备、超融合一体机",
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例3：合同管理**
```json
{
  "term": "合同返回时限",
  "requirement": "中标人须在收到招标人加盖骑缝章合同文本后7个日历天内，将合同签字盖章完善后返回招标人",
  "evidence_chunk_ids": ["seg_xxx"]
}
```

**示例4：价格构成**
```json
{
  "term": "报价包含内容",
  "requirement": "投标报价汇总表所列的报价，应涵盖为完成合同规定内容涉及的一切费用，包括但不限于设备、材料、运输、安装、调试、培训、验收等",
  "evidence_chunk_ids": ["seg_xxx"]
}
```
```

---

## 预期效果

### 修改前

**technical_parameters**：4-10条  
**business_terms**：3-8条

### 修改后

**technical_parameters**：20-50条（预期提升5-10倍）  
包括：
- 传统设备参数
- 标准规范引用
- 工艺要求
- 测试要求
- 配置清单
- 维护培训要求

**business_terms**：15-30条（预期提升3-5倍）  
包括：
- 传统商务条款
- 投标资格与限制
- 合同管理
- 价格构成
- 交付物流
- 保险担保

---

## 实施建议

### 阶段1：修改prompt（立即可做）

1. 扩展category/term的可选值列表
2. 增加提取原则说明
3. 增加边界案例处理指导
4. 增加5-8个提取示例

**预期时间**：30分钟  
**预期效果**：提取数量提升3-5倍

### 阶段2：测试与调优（修改后）

1. 重新提取测试项目的信息
2. 人工审核提取结果
3. 统计提取数量、准确率
4. 根据结果微调prompt

**预期时间**：1-2天  
**预期效果**：提取质量稳定

### 阶段3：持续优化（长期）

1. 收集更多招标文件
2. 建立典型案例库
3. 持续优化category/term分类
4. 优化提取示例

---

## 风险与对策

### 风险1：提取过多无关内容

**对策**：
- 在提取原则中强调"相关性"
- 后续可以人工审核"其他"类别
- 可以设置后处理过滤规则

### 风险2：结构化质量下降

**对策**：
- 仍然要求填写必填字段（item/requirement）
- parameters数组可选，但鼓励填写
- 保持evidence_chunk_ids追溯性

### 风险3：LLM理解偏差

**对策**：
- 提供充分的示例
- 明确边界案例处理方式
- 通过测试迭代优化

---

## 总结

### 核心思路

1. **放宽定义**：技术参数和商务条款采用宽泛定义
2. **增加类别**：扩展category/term的可选值
3. **提供示例**：给出边界案例的提取示例
4. **明确原则**：宁可多提取，不要遗漏

### 预期收益

- ✅ 技术参数提取数量：4-10条 → 20-50条（提升5-10倍）
- ✅ 商务条款提取数量：3-8条 → 15-30条（提升3-5倍）
- ✅ 覆盖更多类型的内容（标准、工艺、配置、限制等）
- ✅ 保持与标准字段的对应关系

### 下一步

等待用户确认后，按照上述方案修改prompt。

---

**报告版本**：v1.0  
**日期**：2025-12-25  
**状态**：分析完成，等待确认

